// Worse solution

#include <iostream>

struct Fractions
{
	int numerator{};
	int denominator{};
};

Fractions lastThing(int maxNum, Fractions prodFunc)
{
	Fractions temp{ prodFunc };
	for (int i = 1; i <= maxNum; i++)
	{
		
		if ((temp.numerator % i == 0) && (temp.denominator % i == 0))
		{
			(temp.numerator = temp.numerator / i);
			(temp.denominator = temp.denominator / i);
		}
	}
	return temp;
}

int getBigger(Fractions num1, Fractions num2)
{
	if ((num1.numerator * num2.numerator) > (num1.denominator * num2.denominator))
		return (num1.denominator * num2.denominator);
	else
		return (num1.numerator * num2.numerator);
}

Fractions getFrac()
{
tryAgain:

	Fractions number;
	std::cout << "Insert the numerator: ";
	std::cin >> number.numerator;

	std::cout << "Insert the denominator: ";
	std::cin >> number.denominator;

	if (number.denominator == 0)
	{
		std::cout << "Can't divide by zero. Try again. \n";
		goto tryAgain;
	}
	
	std::cout << "Fraction: " << number.numerator << "/" << number.denominator << "\n";
	return number;
}  
Fractions getProd(Fractions numberA, Fractions numberB)
{
	Fractions temp{ numberA.numerator*numberB.numerator, (numberB.denominator)*(numberA.denominator) };
	std::cout << (numberA.numerator) * (numberB.numerator) << "/" << (numberA.denominator) * (numberB.denominator) << "\n";

	return temp;
}

int main()
{
	Fractions number1{getFrac()};
	Fractions number2{getFrac()};

	Fractions prod{ getProd(number2, number1) };

	int k = getBigger(number1, number2);
	Fractions temp{ lastThing(k, prod) };


	if (temp.numerator == temp.denominator)
	{
		std::cout << "Result: " << temp.numerator;
	}
	else if (temp.numerator == 0)
	{
		std::cout << 0;
	}
	else
	{
        std::cout << "Result: " << temp.numerator << "/" << temp.denominator;
	}
	
	

	return 0;
}
